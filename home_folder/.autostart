#!/bin/bash

# This script, usually executed at the end of ./.xinitrc, set a basic
# config and launch different application on start

# Auto-detect number of screens and set xrandr accordingly
if [ -f ~/.xrandr_autodetect.sh ]; then
  sh ~/.xrandr_autodetect.sh &
fi

# Start ssh-agent
if [ -f /usr/bin/ssh-agent ]; then
  eval `/usr/bin/ssh-agent -s`
fi

# Display wallpaper
if [ -f ~/.fehbg ]; then
  sh ~/.fehbg &
fi

# start xscreensaver
if hash xscreensaver 2>/dev/null; then
  xscreensaver -no-splash &

  # Auto-lock after 10 minutes
  if hash xautolock 2>/dev/null; then
    xautolock -time 10 -locker "xscreensaver-command -lock" &
  fi
fi

# Execute power manager
if hash xfce4-power-manager 2>/dev/null; then
  xfce4-power-manager &
fi
