#!/bin/bash
wallpapers_directory=$HOME/images/wallpapers

# Start applets

# Network-manager
if hash nm-applet 2>/dev/null; then
  nm-applet &
fi

# Bind media keys
if hash xbindkeys 2>/dev/null; then
  xbindkeys &
fi

# start xscreensaver
if hash xscreensaver 2>/dev/null; then
  xscreensaver -no-splash &

  # Auto-lock after 10 minutes
  if hash xautolock 2>/dev/null; then
    xautolock -time 10 -locker "xscreensaver-command -lock" &
  fi
fi

# randomize wallpapers
if [ -d $wallpapers_directory ] ; then
  feh --recursive --randomize --bg-fill $wallpapers_directory
fi

# Execute power manager
if hash xfce4-power-manager 2>/dev/null; then
  xfce4-power-manager &
fi
